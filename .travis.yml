language: node_js
node_js:
- 5.5.0
notifications:
  email: false
before_install:
- travis_retry nvm install 5.5.0
- if [ $TRAVIS_SECURE_ENV_VARS == "true" ]; then npm install request; npm run update-package;
  fi
env:
  global:
  # - secure: "qF/vHaH+R1i5nsHgXbQjT68GwHvvsqi9IHVBXwUUPKyA/TgcmWzThOEQDwLrYVzXh5CMLNyrxhtW5n1tHFNwF2E77I1dNGfRqqjJTi1wXUqXLCJl6zA35lLeWTtYadVdKMuCOrn3p5Tj5PNOh4XUMRGNztvJCX2ZI5V4V9LXkfdtK1HT9ujdAnMZq+/Fk15hu8yz+wRTagoiWnHgoTfBvSgRkZ7ydcFnPkPB2w56B6mGqdKhPcAJDiGax9jZBk7gXqtTfNp4MyLj27ZDKFhuwfIOjW+P1qIzVLpKh3Sob1Z5UxvwELRg02P46UDVT+oop03unAvRbVAZSJRCX6GhKOl+w/YrAa9H4+j2kSZyf+2V4N7e443Vw1lRjmAjzRfxZ/j0zd39FxPuKvEKjiHu85vwLopJpAIgI3UZb6NtnkZVvPFZ57c1VTidBee5/irUJq/pHYzkv+xkHqslArj6CCtI0cNY4bcKKC7k6/xaBwvw1Rp0cEOClnktriggodb/MofpPB9MsYFzBkA+Kcw+icfGpO+JMpqS34108qbkprkzJaPIvR0KmjXs+sdxVObURmeAkaMGcmHJtoCb8+5I0FBy4kZ+m/i0c58/Y5MkwuSgL88jMPPSaIsvHiA7rFmL1BaanZKSBm+zdDR58esZi7LWvRn7Q1DpK1dOtzGU6+g="
  # - MERGE_TOKEN=7ec583e95b00bfab262215cb3bb41c5ec822951f
  # - SENDGRID_USERNAME=azai91
  # - secure: "g4DTYLCaCsbGU/nwWNUgTttEs6o3Eab04F63VRExT++ZfUiue0OxT2+XCdiYBVEK19VMcNB90760aNfKf+8YR5elNPXB+N7zZqi45+kDR5rZKUIyU1PjjdaNFf8datpd0MOpfzyzgL1OXxBrPSYGQgkC7oqHap2mdFXSmZY1VvYhdt+ruyHy5DCL5rgGTRnv6BQ1aQ2cits4N3dTgQKe1cdUBVLI1OMT4z7UekjZ/Dmk5yOx4kMsm5YYx1g4Hsd6zEFQ8QRiFRUJXyTyVBrHqbNhHev57M7e8Zuhev8YCpmYQ3P4LgfHu1oe2A6QlWVvYuc/UhSsHkB55H/yaY2wanYG/QTowrY3BhwTAJc955pw1MpyWEeTPgrPD50NSsTBg+RLJB/TJKypNmELt5C4OvL2ydYNGi9bPtNLpESg2zix0p0gs7rPD8atBC6Vs4A+2k6iSCa88viBAQoUaQhDYsQlbyZ/7/8ZXElDu+Xhqf4JsFAWeWei2BHI9xCN2+LZq6mCTZZ97ENWki+yhg6OxLUiOR0imsrWik23x7Xy8aRdwAS8EfFpq5jezmQ32KVZImaPeLYYk2IE6k8rGj0SUoKg1N6QTFCZY5Q83ADsH/iJ/obPnjKrpsCqt8DOelu3z5DgA4EAOSFawbdDaUwyl72+Nojkm0iGzTcOK8RpkVo="
  # - secure: "a+POUOePuDYokyHd+9frRNu491j07Ts+xskfwkZdkbJsAxShX39lqpEICIqmeqzE2nmtisgOsWP2188m04x9ekfNnI2L2JhzmWME+zjIxEyikENkUoiobaWNfmRpfND3B8PHYfyaHf+3bTgHTvfLgW9YQPMW3bLPNO60z0EwOjzHotwysZyB1ZaZ3juuZ95Xn73HrEtOPqlfMqT1HEbUK2my2VqEjst3yKeoUoKE316Gr7+Co62TVwkVI8K3uLBHoybt8+cvxlbp1jC4pYTgnAGMIC65pRttwTAFxn3tELZleZqhKbkn8dQSv23Li54MPPAcOGEC15FCfPmVmyI5vWiccebW0sy1fQRBFOVu2L3Tg8XECSifl3zHWAmoNfmStaFte6AAkI4q6rWk55plObLns494ZSov1Nb7dGMEhfQraXwdSUaKrBYLht9BltB41/EJpgB0oTufpONL6lUH7CgiQyQadz50oglh6ykLcIU+BTHpsiBsb8hNkfntj+QZKu9uqZR4wkC4ioZAjcaPQjod5rQnntUXuowzcbyiDaDhY/3qGWaUSwyFzOWezhlu5vmLbx5juWqCS+YmJBqcDEKQrwz1+es8NUN5KgMcB6oGZWquPWnSH+wA98K4/0Z+gjQrNPIA/8lV9MtU288SHj7/mD7r5fMwY0rLkHNzsBQ="
  # - secure: "ClcVL/0xvi1Ij1uVQ+uCzP/pKku6OVWM+CnDESjqP4j9AcgvbcFbUKbnIGWIZ1PrLR7NBphNXRgV3TqFAQC+j8JxLaq17vX8D/4gzVxhaztXO18q7iOCNufVWGulfCiJtVj6SliGUI8Sbwwm3oLgsh7AL+nQbY1kVcytMbozjicG16npcwQ3wGXmYsZMvd52/RErtkpRPV94EE5DImktmJKUPTWAdIvrD54jNLkIRUGrcvzIX0as3C7HrnSb0Wx3+leVt4VjSveTX34+nEqN/DGH8abo4oJ9TsNm9uQ8AjYlL89CQvw93nOVBNIiBAyBKh1yOsKbD3aaLl1wEPKto5j2kFnfjZHbSqnTHZ6m4UIlboXSpBjSuJyyM2LePxJnvBjj3aq3fBdScPxCUfc7vucJuk/VuPe3sS1RvtShHc6KPZZX4qhNDjNcVknKwsNYaKkWJs2j1NCQHfpNPck7J/CJ9wKSmMRTlFTotTCqzzPY6h7IQERY7DsBBaxkloMYROij6oxIgRai/bflojWTuW3zLgpO/wo0tLlkEu6D6dHGxVM5srEoY+UlJ+iYFNTNgOLvUeeFT1P4WswH3In9Pt+zZYSZQKkXXRufhl0Lhz2em8cOgNabZdjyurGkAvrVfPNe3hOIC4Y97Mc5qNcMFROKR9raTNvJ27Oq2cts5Nk="
script:
- if [ $TRAVIS_SECURE_ENV_VARS == "true" ]; then npm run get-test-utils && npm run
  test ; npm run lint ; npm run report; else npm run merge; fi
