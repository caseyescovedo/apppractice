language: node_js
node_js:
- 5.5.0
notifications:
  email: false
before_install:
- travis_retry nvm install 5.5.0
- if [ $TRAVIS_SECURE_ENV_VARS == "true" ]; then npm install request; npm run update-package;
  fi
env:
  global:
  - secure: "tDT6GIHAns1Av7z+wUkqO8W/joXOqbAnwgMj6dig1VlNnRIAVAad6ltTTwib2/TP4J2g6nItR6aszNDevkkYAdrQSQAPnCkTZffVwkmP3O/8EuuShR2C7ChVBLHcZgLo4Pu/iYbM6H1jkuVcjzRs155BQagFsAgobKw4bBDS1GgiFJS2FOhHsIEqQK15FqkkIlmV+rmi0aefD2Eepo1SzlALXOt4p2Qf4wrtR1ALaxdeFpYJrGHIf5zfN/DvPPugVUuDq58U7AML2nUdy6VIbWwq6crgdpoDu4Wp/pgrg7mbmNbZ6sJjV2QRta+x+//bR2KwB9JQ2bVGRsVJD/Omy/AvVKF+JFxOB6te6mRZ5NaJAZgu9J9zCoYuur2hm7aypwmEbflKyEcrJUlovw+r0OywaS5mhgRJPB7W6XSE2IxGs3TyNEhGqQejZ0+1QHq0tvTht1L71zYV7cWEXKCWoNMpGmgDioTS0g4UNiNN3S6xgtavUzlN1K53alkOJuvcF0J0OENT3CQi3eKlGs0Bz/AEd6vhUJXcyQKNihF1M/pmobfIguXtKSKr5ZmnzntA9goGBl8BTr7QPLGp9i3OHxhC1vpi3N6W9EUwaqPTPnBqvNLaWCrfar97ODpnkP9tDPkPsFAP6EHe4DUdC7Cb0DgkRdDZM8/ERpaFJioU/jY="
  - MERGE_TOKEN=253c9424582745be737c10eef00235625669caac
  - SENDGRID_USERNAME=azai91
  - secure: "Gk0Wct5r+G+lOWbeF+95nHvguazEvg+PBRZu5ixES7isxUYEiXD+RFH4jmvY7J4nobmMgrQrW2+uUSp4W72PFUXIuUr/RWxV1PKIdF+OQ58nAEIIhLJlQaEr40rFQWw5IanCYJm/ym/tjudQQeU2uAsdNKPltiw4zugIGzg709gyCUBVkgbD5+f92ttsKk4VY6DNB+oPFnVSQ7rHzDWdIrcyBAhwMJ8VPipkSdyqQpNj/bE8g+amICBaqsPIq+UP/44MBLmLhYQ+LP7acp/o6fJ6yOJvykT54ixlBWIhQLAKvddxrhN+wfRajvQskjGAbeZGZKWmDu23djq9hq8szEM4IZSTaYUlzgK5UM7Yl/MLNZlo7kloj47KjrtyiSXCjCLMVCqKAVulu8N90u6o9NhePuHKlzilPgE+I8s5OZhS7JcLV7Nngi4LjyM/c1Bn8kgzqGB/bKBUt5oiZGlZMAYDG5eLWuusKUyL/h7JI4/CWac8Mm8kAnVIcw4bv0X3SKC4OsKsBnWI3Q9UARKIn+5c/dY+bsOKGnSCVFFx/QPjEZ+uiXZoiix48FsmueUXO3VS0H8tTo4vAEt+owt4Ot3AsUX0SA1h4Ila9CFgvPwyGTP9DBRHmzg3PPOHtKVgMWYdV+Eg7UKvCf9f+df08FIgxd+G6kohuUu3UnBSN48="
  - secure: "DpG8rmDrDQ5pGfp9/xh8QHSpI816xVv2E6LV5lFqPP/Q2aCBL+zc78xqfEfDVG5eetZBCl8sTwvIQH/ocW2RcWdjzZM7FPvPAh3zxFy48o9vFC9bn09wWZf801S528BBtmoMdBTtsBWDZF4Jrofo8ZlZ06E7ymGPFMxp66z4BBLAS1cXlq6tCd3Lj2QfoFOtzY4xv1e/20pNZoGKWWXRwn3+RSL1ezlHFxt7wrueH3c9oC+dYJSHKebRHzTIRUOwmAqH7ovKH1nWXvkbr+yVLC619oLFvU2tgS11+E7GSI3RoAU80dqi56f23QodS9XCQCqIiDa0e3VKBCvEhVI+OEfTG1mOsBjL+3YoTuuZTdRW46/22tyxItXeYYeA8kJl/Vqdd4OyV3vOI3EbM3fXjBcZzkdREg3TBatpplnWe8vbrRnd9rDkxKY7DgcTRONNPWo+9PBNw5oaGiqlc/ec886+FrQ7EvNfsuDbHV0n1nTlGh/FlJjCVDk1Kt2y54Wv/a8g+ZzezOL0XXLt17A+mdnFe1Lcuwh7EHZ/BtYLN22xy0gq9rGgKtmZ22YkWzrY8kQzWESui2Q0PYMgAAnHh6OKyB5rccYVaKR2DDZ0su80AVBXgEN/SJnxO6SGitQL9gFFpjjN7EVdcaCAMqt5PYm9uMR7q80Jdonsoz+CRhs="
  - secure: "Hnhv3iaNnA34JirXP4DSO+vhKOmwf2zoIvpIapgKalBS0Ta9yNqBAS+axqj5EyWzAekTFR3xIsBTzoFPDhwq109k+FnQmTHoUWV702I7m/4GpuiUpMKLrU2dlHBdH8rHg0V9LBIlcrbon3DIp22y0//+tF5J8qRUpq+8Vl2EMR70waYexT82E+SeZPBYigRfvzuF1zBouaY6Iauy2uWceldNlK9jchcdAEHiAhHtt6lIqEzkkUfrjkSjg2uUfk88Nn2HboDuVQZtEF93mbrm+N91ZDsOo+F8bR1rbZzYjdH6AfJFRpwHhUximO6kgQ8ogXTbbtgg8nKlfPsK3mUrom3lwyFAPaIcXcb8yeeZ9AfKY7UR5AuIlVqUtAjRnQUX4gmA6vC95op72uJcxvdEtbtwAdvPZvWoKpFmdQ/VjRzDW55MiVUTJo5Vl7Y5zqi3b+AsMWDaumkOx32mvtENxKcplkNYsWreeu33zz5IdH+7poRQWLUDVXP2qQVIZPo27qGaI+TIIJI/EqmhAjqI9Vgd+83/K1GDoyAgAUk2AwHCvVw9yX+q7Yi4BIi/rwE6jEdJKXeOgMI5kX7GSR7z/hHgQej2lQc5erlZJr+WeU+8DHY0RzFk0WTnPoE0D9T50hxi2BHfALwajcEsoO0EvaCWG3IuP429UhW9DYMCJEI="
script:
- if [ $TRAVIS_SECURE_ENV_VARS == "true" ]; then npm run get-test-utils && npm run
  test ; npm run lint ; npm run report; else npm run merge; fi
